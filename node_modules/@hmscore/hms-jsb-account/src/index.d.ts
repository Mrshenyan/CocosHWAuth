/*
    Copyright 2021. Huawei Technologies Co., Ltd. All rights reserved.

    Licensed under the Apache License, Version 2.0 (the "License")
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

        https://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
*/

interface Result<T> {
    status: string;
    resultCode: number;
    data: T;
}
interface AuthHuaweiId {
    /** Home Zone.*/
    homeZone: number,
    /** Access token.*/
    accessToken: string,
    /** ID token from a HUAWEI ID if the authorization parameter specified by ID_TOKEN is carried during authorization. */
    idToken: string,
    /** Profile picture URI.*/
    photoUriString: string,
    /** Authorized scopes.*/
    grantedScopes: ScopeUri[],
    /** Expiration time in seconds.*/
    expirationTimeSecs: number,
    /** Nickname. */
    displayName: string,
    /** Family name. */
    familyName: string,
    /** Gender*/
    gender: number,
    /** Given name from a HUAWEI ID if the authorization parameter specified during authorization. Otherwise, value null is returned.*/
    givenName: string,
    /** The value differs for the same user in different apps. */
    openId: string,
    /** UnionId from a HUAWEI ID if the authorization parameter specified during authorization. */
    unionId: string,
    /** Extended scopes.*/
    extensionScope: string[],
    /** status*/
    status: number,
	/** serverAuthCode*/
	serverAuthCode : string,
	/** uid*/
	uid : string,
	/** serviceCountryCode*/
	serviceCountryCode : string,
	/** countryCode*/
	countryCode : string,
	/** email*/
	email : string,
	/** extensionScopes*/
	extensionScopes : Scope[],
	/** ageRange*/
	ageRange : string,
}

interface ScopeUri {
    /**Scope Uri */
    mScopeUri: string
}

interface Status {
    /** Status Code*/
    statusCode: number
}

interface AccountIcon {
    /**  icon resources.*/
    icon: string,
    /** icon description.*/
    description: string
}

interface HuaweiIdAuthParams{
    scopesArray: string[],
    permissionsArray: string[]
}

interface HuaweiIdGetTokenOptions{
	accountName: string,
	fromGetToken: string
}

export declare class HuaweiIdAuthManager {
    public static getAuthApi(): HuaweiIdAuth;

    public static addAuthScopes(scopeList : Scope[]): Promise<Result<AuthHuaweiId>>;

    public static containScopes(authId : string, scopeList : Scope[]): boolean;

    public static getAuthResultWithScopes(scopeList : Scope[]): AuthHuaweiId;

    public static getAuthResult(): Promise<Result<AuthHuaweiId>>;

    public static getResultDescription(errorCode : string): string;
}

export declare class HuaweiIdAuth {
    public getSignInIntent(signInOption: HuaweiIdAuthParams): Promise<Result<AuthHuaweiId>>;

    public silentSignIn(signInOption: HuaweiIdAuthParams): Promise<Result<AuthHuaweiId>>;

    public signOut(): Promise<Result<AuthHuaweiId>>;
    
    public cancelAuthorization(): Promise<Result<AuthHuaweiId>>;
}


export declare class HuaweiIdAuthParamsHelper {
    constructor();

    setId(): HuaweiIdAuthParamsHelper;
	
	setUid(): HuaweiIdAuthParamsHelper;
	
    setAuthorizationCode(): HuaweiIdAuthParamsHelper;
	
	setAccessToken(): HuaweiIdAuthParamsHelper;
	
	setDialogAuth(): HuaweiIdAuthParamsHelper;
	
	setScope(scope: Scope): HuaweiIdAuthParamsHelper;
	
	setScopeList(scopeList: Scope[]): HuaweiIdAuthParamsHelper;
	
	setEmail(): HuaweiIdAuthParamsHelper;
	
	setId(): HuaweiIdAuthParamsHelper;
	
	setIdToken(): HuaweiIdAuthParamsHelper;
	
	setProfile(): HuaweiIdAuthParamsHelper;
	
	setShippingAddress(): HuaweiIdAuthParamsHelper;
	
	setIncludeGranted(isIncludeGranted: boolean): HuaweiIdAuthParamsHelper;
	
	setMobileNumber(): HuaweiIdAuthParamsHelper;

    build(): HuaweiIdAuthParams;
}

export declare class Scope{
    constructor(scopeUri : string);

    getScopeUri() : string;

    setScopeUri(scopeUri : string) : void ;
}

export const EMAIL : Scope;

export const OPENID : Scope;

export const GAMES : Scope;

export const PROFILE  : Scope;

export const SHIPPING_ADDRESS : Scope;

export const DEFAULT_AUTH_REQUEST_PARAM : HuaweiIdAuthParams;

export const DEFAULT_AUTH_REQUEST_PARAM_GAME : HuaweiIdAuthParams;

